import{c as g}from"/build/_shared/chunk-UTXIL4KP.js";import{a as h}from"/build/_shared/chunk-TW2OTEET.js";import{a as k,i as f,p as u,t as l}from"/build/_shared/chunk-ZFWZJZG4.js";import{e as r}from"/build/_shared/chunk-ADMCF34Z.js";var d=r(k());var e=r(l());function x({recipeId:a,action:i,icon:s}){let o=u();return(0,e.jsx)(g,{loginConfirmModal:!0,children:t=>(0,e.jsx)(o.Form,{method:"post",action:i,children:(0,e.jsx)("button",{type:"submit",className:"icon-btn-sm icon-btn-square flex ",onClick:n=>{t!=null&&t.id?n.stopPropagation():n.preventDefault()},children:s})})})}function C({author:a,id:i,isLiked:s,isInBasket:o}){return(0,e.jsx)("div",{className:`
      opacity-0
      invisible
      group-hover:opacity-100 group-hover:visible
      transition-all

      absolute 
      flex items-end 
      w-full h-full 
      p-3 
      bg-gradient-to-t from-gray-800/80 via-transparent 
       text-white
      `,children:(0,e.jsxs)("div",{className:"flex-1 flex justify-between",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("span",{className:"inline-flex p-0.5 rounded-full bg-white",children:(0,e.jsx)("span",{className:"material-icons-round  leading-none text-black",children:"person"})}),a]}),(0,e.jsxs)("div",{className:"flex gap-3",children:[(0,e.jsx)(x,{recipeId:i,action:`/recipe/like/${i}`,icon:(0,e.jsx)("span",{className:`material-symbols-rounded  leading-none ${s?"text-red-500":""}`,style:s?{fontVariationSettings:'"FILL" 1'}:void 0,children:"favorite"})}),(0,e.jsx)(x,{recipeId:i,action:`/add-basket/${i}`,icon:(0,e.jsx)("span",{className:` material-symbols-rounded  leading-none ${o?"text-blue-500":""}`,style:o?{fontVariationSettings:'"FILL" 1'}:void 0,children:"shopping_basket"})})]})]})})}function p({id:a,title:i,favCounts:s,basketCounts:o,author:t,isLiked:n,isInBasket:m}){return(0,e.jsxs)(f,{to:`/recipe/${a}`,className:"group flex flex-col gap-2 bg-white p-2 rounded-lg shadow-gray-200/50 shadow-xl hover:shadow-gray-200 hover:shadow-2xl hover:-translate-y-2 transition-all ease-in",children:[(0,e.jsxs)("div",{className:"relative aspect-w-4 aspect-h-3 flex items-center justify-center overflow-hidden rounded-lg",children:[(0,e.jsx)("img",{className:"w-full h-full object-cover object-center ",src:h}),(0,e.jsx)(C,{author:t,id:a,isLiked:n,isInBasket:m})]}),(0,e.jsx)("h4",{className:"line-clamp-1 text-center text-black font-medium",children:i}),(0,e.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,e.jsxs)("span",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[(0,e.jsx)("span",{className:"material-symbols-outlined text-xl leading-none ",style:{fontVariationSettings:'"wght" 300, "FILL" 0'},children:"favorite"}),s]}),(0,e.jsxs)("span",{className:"flex items-center gap-1 text-gray-400 text-sm",children:[(0,e.jsx)("span",{className:"material-symbols-outlined text-xl leading-none ",style:{fontVariationSettings:'"wght" 300,"FILL" 0'},children:"shopping_basket"}),o]})]})]})}var c=r(l());function L({data:a}){let[i,s]=(0,d.useState)([]);return(0,d.useEffect)(()=>{if(a){let o=a.map(t=>{var n;return{...t,favCounts:Math.floor(Math.random()*1e3),basketCounts:Math.floor(Math.random()*1e3),title:t.title,author:(n=t.author.name)!=null?n:t.author.id,id:t.id}});s(o)}},[a]),a?(0,c.jsx)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(300px,1fr))] gap-9",children:i.map(({id:o,title:t,favCounts:n,basketCounts:m,author:v,isLiked:b,isInBasket:y},N)=>(0,c.jsx)(p,{id:o,title:t,favCounts:n,basketCounts:m,author:v,isLiked:b,isInBasket:y},`${t}_${N}`))}):null}export{L as a};
