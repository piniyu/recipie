{
  "version": 3,
  "sources": ["empty-module:../utils/db.server", "empty-module:../utils/session.server", "../../../app/routes/my-recipes.tsx"],
  "sourcesContent": ["module.exports = {};", "module.exports = {};", "import React, { useEffect, useState } from 'react'\nimport { json, LoaderFunction } from '@remix-run/node'\nimport { db } from '../utils/db.server'\nimport { requireUserId } from '../utils/session.server'\nimport CardGrid from '../components/card/card-grid'\nimport DropdownMenu from '../components/drop-down-menu'\nimport SearchBar from '../components/search-bar'\nimport { Prisma } from '@prisma/client'\nimport { useFetcher, useLoaderData } from '@remix-run/react'\nimport { searchUserRecipes } from '~/lib/loaders/search-recipes.server'\nimport { recipesListData } from '~/lib/loaders/query-card-list'\nimport { CardListLoaderData } from '.'\n\ntype LoaderData = {\n  myRecipes: CardListLoaderData['allRecipe']\n  searchRes: CardListLoaderData['searcheRes']\n}\n\nexport const loader: LoaderFunction = async ({ request }) => {\n  const userId = await requireUserId(request)\n  const searchRes = await searchUserRecipes(request, userId)\n  const myRecipes = await db.recipe.findMany({\n    where: { authorId: userId },\n    ...recipesListData,\n  })\n  const mappedMyRecipes = myRecipes.map(recipe => ({\n    ...recipe,\n    isLiked: !!recipe.favorite.find(item => item.userId === userId),\n  }))\n  return json({ myRecipes, searchRes })\n}\n\nexport default function MyRecipes() {\n  const data = useLoaderData() as LoaderData\n  const fetcher = useFetcher<LoaderData>()\n  const [searchList, setSearchList] = useState<LoaderData['searchRes']>([])\n\n  useEffect(() => {\n    if (fetcher.data?.searchRes) {\n      console.log(fetcher.data.searchRes)\n      setSearchList(fetcher.data.searchRes)\n    }\n  }, [fetcher.data?.searchRes])\n\n  return (\n    <div className=\"layout-pt layout-px flex flex-col gap-9\">\n      <div className=\"flex justify-center gap-6\">\n        <SearchBar\n          placeholder=\"My Recipes Search\"\n          list={searchList.map(item => ({ value: item.title, id: item.id }))}\n          fetch={inputValue => {\n            fetcher.load(`/my-recipes?search=${inputValue}`)\n          }}\n        />\n        {/* </div> */}\n        {/* <div className=\"flex space-x-6\"> */}\n        <DropdownMenu\n          summary=\"New\"\n          details={<span>Popular</span>}\n          hasDownArrow\n        />\n        <DropdownMenu\n          summary=\"Filter\"\n          details={<div>filter checkbox</div>}\n          icon={<span className=\"material-symbols-rounded\">tune</span>}\n        />\n      </div>\n      {/* <h1 className=\"[font-family:var(--font-ui)] font-bold text-black\">Hi {userName}\n        <br /> Share your amazing recipes with everyone now!</h1> */}\n      {/* <div className='flex items-center'>\n        <Icon className='flex-1 text-9xl' icon='emojione:pot-of-food' />\n        <Icon className='flex-1 text-9xl' icon='emojione-v1:pot-of-food' />\n        <Icon className='flex-1 text-9xl' icon='emojione:curry-rice' />\n        <Icon className='flex-1 text-9xl' icon='noto-v1:curry-rice' />\n        <Icon className='flex-1 text-9xl' icon='emojione-v1:hamburger' />\n      </div> */}\n      <CardGrid data={data.myRecipes} />\n    </div>\n  )\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACAlB;AAAA;AAAA,WAAO,UAAU,CAAC;AAAA;AAAA;;;ACAlB,mBAA2C;AAE3C,gBAAmB;AACnB,qBAA8B;AAM9B,4BAAkC;AAsC1B;AAfO,SAAR,YAA6B;AAhCpC;AAiCE,QAAM,OAAO,cAAc;AAC3B,QAAM,UAAU,WAAuB;AACvC,QAAM,CAAC,YAAY,aAAa,QAAI,uBAAkC,CAAC,CAAC;AAExE,8BAAU,MAAM;AArClB,QAAAA;AAsCI,SAAIA,MAAA,QAAQ,SAAR,gBAAAA,IAAc,WAAW;AAC3B,cAAQ,IAAI,QAAQ,KAAK,SAAS;AAClC,oBAAc,QAAQ,KAAK,SAAS;AAAA,IACtC;AAAA,EACF,GAAG,EAAC,aAAQ,SAAR,mBAAc,SAAS,CAAC;AAE5B,SACE,mDAAC,SAAI,WAAU,2CACb;AAAA,uDAAC,SAAI,WAAU,6BACb;AAAA;AAAA,QAAC;AAAA;AAAA,UACC,aAAY;AAAA,UACZ,MAAM,WAAW,IAAI,WAAS,EAAE,OAAO,KAAK,OAAO,IAAI,KAAK,GAAG,EAAE;AAAA,UACjE,OAAO,gBAAc;AACnB,oBAAQ,KAAK,sBAAsB,YAAY;AAAA,UACjD;AAAA;AAAA,QALF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMA;AAAA,MAGA;AAAA,QAAC;AAAA;AAAA,UACC,SAAQ;AAAA,UACR,SAAS,mDAAC,UAAK,uBAAN;AAAA;AAAA;AAAA;AAAA,iBAAa;AAAA,UACtB,cAAY;AAAA;AAAA,QAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAIA;AAAA,MACA;AAAA,QAAC;AAAA;AAAA,UACC,SAAQ;AAAA,UACR,SAAS,mDAAC,SAAI,+BAAL;AAAA;AAAA;AAAA;AAAA,iBAAoB;AAAA,UAC7B,MAAM,mDAAC,UAAK,WAAU,4BAA2B,oBAA3C;AAAA;AAAA;AAAA;AAAA,iBAA+C;AAAA;AAAA,QAHvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAIA;AAAA,SAnBF;AAAA;AAAA;AAAA;AAAA,WAoBA;AAAA,IAUA,mDAAC,YAAS,MAAM,KAAK,aAArB;AAAA;AAAA;AAAA;AAAA,WAAgC;AAAA,OA/BlC;AAAA;AAAA;AAAA;AAAA,SAgCA;AAEJ;",
  "names": ["_a"]
}
